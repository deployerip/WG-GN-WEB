<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WireGuard Config Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="spinner"></div>
    <main>
        <span class="demo-badge">DEMO</span>
        <h1><i class="fas fa-shield-alt"></i> WireGuard Config Generator</h1>

        <!-- Purpose Selection -->
        <div id="wireguard-purpose">
            <div class="peer-selection">
                <button id="vpn-btn" class="choice-btn">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 2h-2v2h2V2zm-4 2h-2v2h2V4zm-4 0H8v2h2V4zm-4 0H4v2h2V4zm12 4h-2v2h2V8zm-4 0h-2v2h2V8zm-4 0H8v2h2V8zm-4 0H4v2h2V8zm12 4h-2v2h2v-2zm-4 0h-2v2h2v-2zm-4 0H8v2h2v-2zm-4 0H4v2h2v-2zm12 4h-2v2h2v-2zm-4 0h-2v2h2v-2zm-4 0H8v2h2v-2zm-4 0H4v2h2v-2zm12 4h-2v2h2v-2zm-4 0h-2v2h2v-2zm-4 0H8v2h2v-2zm-4 0H4v2h2v-2z"/>
                    </svg>
                    <span>VPN</span>
                </button>
                <button id="dns-btn" class="choice-btn">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                    </svg>
                    <span>DNS</span>
                </button>
            </div>
        </div>

        <!-- VPN Options -->
        <div id="vpn-options" class="hidden">
            <h2><i class="fas fa-network-wired"></i> VPN Options</h2>
            <div class="peer-selection">
                <button id="custom-peers-btn" class="choice-btn">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4-10h-2v2h2v-2zm-4 0H8v2h4v-2zm4 4h-2v2h2v-2zm-4 0H8v2h4v-2z"/>
                    </svg>
                    <span>Custom Peers</span>
                </button>
                <button id="ipv4-btn" class="choice-btn">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-13h-2v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                    </svg>
                    <span>IPv4</span>
                </button>
                <button id="ipv6-btn" class="choice-btn">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-13h-2v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                    </svg>
                    <span>IPv6</span>
                </button>
            </div>
            <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
        </div>

        <!-- Custom Peers -->
        <div id="custom-peers" class="hidden">
            <h2><i class="fas fa-users"></i> Custom Peers</h2>
            <div class="peer-selection">
                <label for="ipv4-count">IPv4 Peers:</label>
                <input type="number" id="ipv4-count" min="0" value="0">
                <label for="ipv6-count">IPv6 Peers:</label>
                <input type="number" id="ipv6-count" min="0" value="0">
            </div>
            <button class="get-btn"><i class="fas fa-cogs"></i> Generate Config</button>
            <button id="dns-manager-btn" class="dns-manager-btn">
                <i class="fas fa-server"></i> DNS Manager (<span id="dns-count">4</span>)
            </button>
            <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
        </div>

        <!-- DNS Options -->
        <div id="dns-options" class="hidden">
            <h2><i class="fas fa-dns"></i> DNS Options</h2>
            <div class="dns-selection">
                <button id="shecan-btn" class="choice-btn"><span>Shecan</span></button>
                <button id="403online-btn" class="choice-btn"><span>403 Online</span></button>
                <button id="electro-btn" class="choice-btn"><span>Electro</span></button>
                <button id="cloudflare-btn" class="choice-btn"><span>Cloudflare</span></button>
                <button id="adguard-btn" class="choice-btn"><span>AdGuard</span></button>
                <button id="google-btn" class="choice-btn"><span>Google</span></button>
                <button id="quad9-btn" class="choice-btn"><span>Quad9</span></button>
                <button id="opendns-btn" class="choice-btn"><span>OpenDNS</span></button>
            </div>
            <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
        </div>

        <!-- DNS Manager -->
        <div id="dns-manager" class="hidden">
            <div class="dns-manager-header">
                <button id="select-btn" class="select-btn"><i class="fas fa-check-square"></i></button>
                <button id="select-all-btn" class="select-all-btn hidden"><i class="fas fa-check-double"></i></button>
                <button id="delete-btn" class="delete-btn hidden"><i class="fas fa-trash"></i></button>
            </div>
            <h2><i class="fas fa-server"></i> DNS Manager</h2>
            <button id="add-dns-btn" class="add-dns-btn"><i class="fas fa-plus"></i></button>
            <div id="dns-manager-list" class="dns-manager-list"></div>
            <button id="save-dns-btn" class="save-btn"><i class="fas fa-save"></i></button>
            <button class="back-btn dns-back-btn"><i class="fas fa-arrow-left"></i></button>
        </div>

        <!-- Config Output -->
        <div class="config-container wire-guard-config"></div>
        <div class="config-container v2ray-config"></div>
        <button class="home-btn" style="display: none;"><i class="fas fa-home"></i></button>

        <!-- DNS Popup -->
        <div id="dns-popup" class="dns-popup hidden">
            <div class="dns-popup-content">
                <button id="dns-close-btn" class="dns-close-btn"><i class="fas fa-times"></i></button>
                <h3>Add/Edit DNS Server</h3>
                <input type="text" id="manual-dns-input" placeholder="Enter DNS IP (e.g., 1.1.1.1)">
                <button id="add-manual-dns" class="add-manual-btn">Add DNS</button>
                <div class="dns-options">
                    <button class="dns-choice" data-dns="1.1.1.1, 1.0.0.1">Cloudflare</button>
                    <button class="dns-choice" data-dns="8.8.8.8, 8.8.4.4">Google</button>
                    <button class="dns-choice" data-dns="94.140.14.14, 94.140.15.15">AdGuard</button>
                    <button class="dns-choice" data-dns="9.9.9.9, 149.112.112.112">Quad9</button>
                </div>
            </div>
        </div>

        <!-- Confirm Exit Popup -->
        <div id="confirm-exit-popup" class="confirm-popup hidden">
            <div class="confirm-popup-content">
                <h3>Unsaved Changes</h3>
                <p>Do you want to discard your changes?</p>
                <div class="confirm-buttons">
                    <button id="confirm-yes-btn" class="confirm-btn">Yes</button>
                    <button id="confirm-no-btn" class="confirm-btn">No</button>
                </div>
            </div>
        </div>

        <!-- QR Popup -->
        <div id="qr-popup" class="qr-popup">
            <button class="qr-close-btn"><i class="fas fa-times"></i></button>
            <div id="v2rayQR" class="qr-code"></div>
        </div>
    </main>

    <footer>
        <div>
            <a href="https://github.com/yourusername" target="_blank"><i class="fab fa-github"></i> GitHub</a>
            <a href="mailto:your@email.com"><i class="fas fa-envelope"></i> Email</a>
        </div>
        <div class="ip-info">
            Your IP: <span id="user-ip">Loading...</span> | Country: <span id="user-country">Loading...</span>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>